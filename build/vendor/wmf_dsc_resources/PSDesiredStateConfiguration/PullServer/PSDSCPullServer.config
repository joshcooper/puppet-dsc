<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <configSections>
        <section name="managementOdata" type="Microsoft.Management.Odata.Core.DSConfiguration, Microsoft.Management.OData, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL" />
    </configSections>
        <managementOdata schemaFileName="PSDSCPullServer.mof" resourceMappingFileName="PSDSCPullServer.xml">
        <customAuthorization type="Microsoft.Powershell.DesiredStateConfiguration.PullServer.Authorization" assembly="Microsoft.Powershell.DesiredStateConfiguration.Service.dll" />
        <operationManager type="Microsoft.Powershell.DesiredStateConfiguration.PullServer.OperationManager" assembly="Microsoft.Powershell.DesiredStateConfiguration.Service.dll" />
        <quota userSchemaCacheTimeoutSec="600" />
        <commandInvocation enabled="false" />
        <wcfDataServicesConfig>
        </wcfDataServicesConfig>
    </managementOdata>
    <appSettings>
        <add key="MaxConcurrentRequests" value="10000" />
        <add key="MaxRequestsPerTimeslot" value="10000" />
        <add key="TimeslotSize" value="1" />
    </appSettings>
    <system.web>
        <compilation debug="false" targetFramework="4.0" />
    </system.web>
    <system.serviceModel>
        <behaviors>
            <serviceBehaviors>
                <behavior>
                    <serviceAuthorization serviceAuthorizationManagerType="Microsoft.Management.Odata.Core.CustomAuthorizationManager, Microsoft.Management.OData, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
                    <serviceDebug includeExceptionDetailInFaults="true" />
                    <serviceMetadata httpGetEnabled="true" />
                </behavior>
            </serviceBehaviors>
        </behaviors>
        <serviceHostingEnvironment aspNetCompatibilityEnabled="true" />      
    </system.serviceModel>
    <system.webServer>
        <modules>
            <remove name="ServiceModel" />
            <remove name="WebDAVModule" />
            <remove name="AuthenticationModule" />
            <add type="Microsoft.Powershell.DesiredStateConfiguration.PullServer.AuthenticationPlugin, Microsoft.Powershell.DesiredStateConfiguration.Service"  name="AuthenticationModule"/>
        </modules>
        <handlers>
            <remove name="WebDAV" />
            <remove name="xoml-Integrated" />
            <remove name="rules-Integrated" />
            <remove name="svc-ISAPI-2.0-64" />
            <remove name="svc-ISAPI-2.0" />
            <remove name="svc-Integrated" />
        </handlers>
        <security>
            <authentication>
                <anonymousAuthentication enabled="true" />
                <basicAuthentication enabled="false" />
                <windowsAuthentication enabled="false" />
            </authentication>
        </security>
        <staticContent>
            <clientCache cacheControlMode="UseMaxAge" cacheControlMaxAge="1.00:00:00" />
        </staticContent>
      <directoryBrowse enabled="false"/>
    </system.webServer>
</configuration>